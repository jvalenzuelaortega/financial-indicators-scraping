/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package financialindicators;

import java.io.IOException;
import java.time.LocalDate;

import financialindicators.dto.Dollar;
import org.jsoup.nodes.Document;

import financialindicators.config.JsoupConfig;
import financialindicators.utils.TextUtils;

public class App {
    public String getGreeting() {
        return "Hello World!";
    }

    public static void main(String[] args) {

        try {
            Document doc = JsoupConfig.getConnection();
            String content = JsoupConfig.getElementBySite(doc, "vd");

            System.out.println("Split content -> " + TextUtils.splitText(content, 10, 16));
            Double valueIndicator = Double.valueOf(TextUtils.splitText(content, 10, 16));

            Dollar dollar = new Dollar();
            dollar.setIndicatorId(1);
            dollar.setNameIndicator("Dollar");
            dollar.setValueIndicator(valueIndicator);
            dollar.setDateIndicator(LocalDate.now());
            dollar.setLotIndicator(1);

            System.out.println("Indicator values -> " + dollar.toString());

        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }


    }
}
